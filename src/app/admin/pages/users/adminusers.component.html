<div class="mx-auto">
  <div class="row">
    <div class="col-md-12 mb-12 form-group form-inline">
      <label class="pr-2" for="verifyemail">
        <h5>Send verify E-mail :</h5>
      </label>
      <input type="text" id="verifyemail" style="width: 500px;" placeholder="Enter email..." class="form-control mr-10"
        [(ngModel)]="sendEmail">
      <button type="button" class="btn btn-primary" (click)="sendVerifyEmail()"> Send </button>
    </div>
  </div>
  <!--   <div class="row">
        <div class="col-md-8 mb-3 form-group form-inline">
            <label class="pr-2" for="filter">
                <h5>Search :</h5>
            </label>

            <input type="text" id="name" placeholder="Enter email..." class="form-control" id="desc"
                [(ngModel)]="searchText">
            <fa-icon class="mr-3 icon" icon="search"></fa-icon>

        </div>
    </div> -->
  <div class="row ">
    <div class="col-md-12">
      <button type="button" class="btn btn-primary" (click)="toggleaddWidgetPanel()">
        Filter</button>
    </div>
  </div>
  <div [@slideInOut]="filterPanelOpen" class="row mt-10 ml-20">
    <div class="col-md-12 mb-3 form-group form-inline">
      <button type="button" class="btn btn-primary mr-10" (click)="GetTodaySingupUsers()"> Today Sign up </button>
      <button type="button" class="btn btn-primary mr-10" (click)="GetTodayLoginUsers()"> Today Sign in </button>
      <button type="button" class="btn btn-primary mr-10" (click)="ResetFilterUserByDate()"> Reset </button>
    </div>
    <div class="col-md-3 mb-3 form-group form-inline">
      <span class="mr-10">From :</span>
      <input type="text" [(ngModel)]="FromDate" placeholder="Nov 2020" class="form-control" bsDatepicker
        [bsConfig]="{ isAnimated: true }" style="width: 70%;">
    </div>

    <div class="col-md-3 mb-3 form-group form-inline">
      <span class="mr-10">To :</span> <input type="text" [(ngModel)]="ToDate" placeholder="Dec 2020"
        class="form-control" bsDatepicker [bsConfig]="{ isAnimated: true }" style="width: 70%;">
    </div>
    <div class="col-md-6 mb-3 form-group form-inline">
      <button type="button" class="btn btn-primary mr-10" (click)="FilterUserByDate('signup')"> Sign up </button>
      <button type="button" class="btn btn-primary mr-10" (click)="FilterUserByDate('signin')"> Sign in </button>
      <button type="button" class="btn btn-primary mr-10" (click)="ResetFilterUserByDate()"> Reset </button>
    </div>
  </div>
  <hr>
  <div style="font-size: 16px; margin-bottom: 10px;">
    Number Of User(s) : {{this.displayUsers.length}}
  </div>
  <div *ngIf="isLoading" class="text-center">
    <i class="fa fa-spin fa-spinner fa-4x" style="margin-top:80px;"></i>
  </div>
  <div *ngIf="!isLoading">
    <table datatable class="table table-striped table-borderless" style="text-align: center;">
      <thead>
        <tr>
          <th style="width: 10%;">
            Name
          </th>
          <th style="width: 20%;">
            Email
          </th>
          <th style="width: 20%;">
            Wallet
          </th>
          <th style="width: 5%;">
            Admin
          </th>
          <th style="width: 5%;">
            Verified?
          </th>
          <th #sortIcon1 style="width: 10%;">
            Join Date
          </th>
          <th style="width: 30%;">
            Last Login
          </th>
          <th style="width: 10%;">Info</th>
          <th style="width: 10%;">Personality</th>
          <th style="width: 10%;">Settings</th>
        </tr>
      </thead>
      <!--   <tbody *ngIf="isLoading">
                <tr>
                    <td colspan=7 class="text_center">
                        <i class="fa fa-spin fa-spinner"></i>
                    </td>
                </tr>
            </tbody> -->
      <tbody *ngIf="this.users.length > 0 && !isLoading">
        <!-- admin -->
        <ng-container *ngFor="let user of displayUsers let i=index ;">

          <tr *ngIf="user.IsAdmin ; else User">
            <td class="text_left">{{user.fullname}}</td>
            <td class="text_left">{{user.email}}</td>
            <td class="text_left">{{user.ethaddress}}</td>
            <td><b>(Admin)</b></td>
            <td><b>{{getVerified(user.verified)}}</b></td>
            <td>{{user.createdAt | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>{{user.lastLogin | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname, 'userInfo')"
                style="color: #4A90E2;"><i class="fa fa-wpforms"></i>
                Info</a>
            </td>
            <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname, 'personality')"
                style="color: #4A90E2;"><i class="fa fa-wpforms"></i>
                Detail</a>
            </td>
            <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname,'userSetting')"
                style="color: #7F7F7F;"><i class="fa fa-cog"></i> Settings</a>
            </td>
          </tr>
          <ng-template #User>
            <tr>
              <td class="text_left">{{user.fullname}}</td>
              <td class="text_left">{{user.email}}</td>
              <td><b></b></td>
              <td><b>{{getVerified(user.verified)}}</b></td>
              <td>{{user.createdAt | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
              <td>{{user.lastLogin | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
              <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname, 'userInfo')"
                  style="color: #4A90E2;"><i class="fa fa-wpforms"></i>
                  Detail</a>
              </td>
              <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname, 'personality')"
                  style="color: #4A90E2;"><i class="fa fa-wpforms"></i>
                  Detail</a>
              </td>
              <td><a class="clickable" (click)="routeNextPage(user.userId, user.fullname,'userSetting')"
                  style="color: #7F7F7F;"><i class="fa fa-cog"></i> Settings</a>
              </td>
            </tr>
          </ng-template>

        </ng-container>
      </tbody>
    </table>

  </div>
</div>
