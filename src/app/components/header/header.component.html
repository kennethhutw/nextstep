<nav class="navbar navbar-expand-lg  navbar-light  bg-white fixed-top">
  <div class="container">
    <a class="navbar-brand" (click)="logoRedirect()">
      <img src="./../../../assets/images/logo.png" height="40" alt="" />
      <span class="logo">Next Step</span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMenuContent"
      aria-controls="navbarMenuContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>


    <div class="collapse navbar-collapse" id="navbarMenuContent">
      <ul class="navbar-nav mr-auto ">
        <!-- <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/index" (click)="ToggleNavBar()"> {{ "HOME" | translate }} <span
              class="sr-only">(current)</span></a>
        </li> -->
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/projects" (click)="ToggleNavBar()">{{ "PROJECTS" | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/recruit" (click)="ToggleNavBar()">{{ "JOBS" | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/members" (click)="ToggleNavBar()">{{ "MEMBER" | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/events" (click)="ToggleNavBar()">{{ "EVENTS" | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/inspiration" (click)="ToggleNavBar()">{{ "INSPIRATION" | translate }}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/subscribe" (click)="ToggleNavBar()">{{ "BSUBSCRIBE" | translate }}</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/mentors" (click)="ToggleNavBar()">導師</a>
        </li> -->
        <li class="nav-item">
          <a class="nav-link " [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/ranking" (click)="ToggleNavBar()">{{ "RANKING" | translate }}</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
            routerLink="/feedback" (click)="ToggleNavBar()">{{ "FEEDBACK" | translate }}</a>
        </li>

      </ul>

      <ul class="navbar-nav">
        <li class="nav-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
          id="navbarLangDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          <span
            class="btn-transparent-noborder font-16 ">{{this.SelectedLang=="en"?"EN":this.SelectedLang=="zh-tw"?"繁中":"简中"}}</span>
          <div class="dropdown-menu dropdown-menu-lg-right dropdown-secondary min-width-1"
            aria-labelledby="navbarLangDropdown">
            <div class="lang-box">
              <div class="dropdown-item cursor-pointer" (click)="changeLanguage('zh-tw')"
                [ngClass]="{ 'selected': this.SelectedLang == 'zh-tw'  }">繁中
              </div>
              <div class="dropdown-item cursor-pointer" (click)="changeLanguage('zh-cn')"
                [ngClass]="{ 'selected': this.SelectedLang == 'zh-cn'  }">简中
              </div>
              <div class="dropdown-item cursor-pointer" (click)="changeLanguage('en')"
                [ngClass]="{ 'selected': this.SelectedLang == 'en'  }">En</div>
            </div>
          </div>
        </li>
      </ul>
      <ul *ngIf="authStoreSrv.isLoggedIn$ | async" class="navbar-nav nav-flex-icons gap-15">
        <li class="nav-item btn-createProject" [routerLinkActive]="['active']"
          [routerLinkActiveOptions]="{ exact: true }">
          <a class="btn-blue font-16" (click)="RouteToNewProject()">{{ "CREATEPROJECT" | translate }}</a>
        </li>

        <li class="nav-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
          id="navbarNotifDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">

          <i class="far fa-bell noti"> <span *ngIf="notiNum>0" class="notification-dot"></span></i>
          <div class="dropdown-menu dropdown-menu-lg-right dropdown-secondary " aria-labelledby="navbarNotifDropdown">
            <div class="notification-box">
              <ng-container *ngIf="notis">
                <ng-container *ngFor="let noti of  notis; let i = index">
                  <a *ngIf="i<5" class="notification" routerLink="/dashboard/notifications">
                    <i class="far fa-bell mt--4 background-gray"></i>
                    <div class="notifciation-row">
                      <span>
                        {{noti?.content.length>20?noti?.content.substring(0,20)+"...":noti?.content}}</span>
                      <span class="notifciation-date"> {{(noti?.createdAt !==null) ?
                        this.utility.timeSince(noti.createdAt ) : ''
                        }}</span>
                    </div>
                  </a>
                </ng-container>
              </ng-container>

              <a routerLink="/dashboard/notifications" class="notification-more text-center">{{ "SEEMORE" | translate
                }}</a>
            </div>
          </div>
        </li>
        <li class="nav-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }">
          <a routerLink="/dashboard/messages"> <i class="far fa-comment-dots message "><span *ngIf="msgNum>0"
                class="notification-dot"></span></i></a>
        </li>
        <li class="nav-item dropdown">
          <a class=" dropdown-toggle color-gray" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i *ngIf="!currentUser.imageUrl" class="far fa-user-circle font-25"></i>
            <img *ngIf="currentUser.imageUrl" class="profile-image rounded-circle" src="{{ currentUser.imageUrl }}"
              (error)="onImgError($event)" alt="" />
          </a>

          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a *ngIf="currentUser.isAdmin" class="dropdown-item" [routerLinkActive]="['active']"
              [routerLinkActiveOptions]="{ exact: true }" [routerLink]="['/admin']">管理員</a>
            <a class="dropdown-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
              [routerLink]="['/u/',currentUser?.uid]">{{ "MYPROFILE" | translate }}</a>
            <a class="dropdown-item" [routerLink]="['/dashboard/collection']">{{ "MYCOLLECTION" | translate }}</a>
            <a class="dropdown-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
              [routerLink]="['/dashboard/settings']">{{ "MYSETTING" | translate }}</a>

            <a class="dropdown-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
              [routerLink]="['/dashboard/myproject']">{{ "MYPROJECT" | translate }}</a>
            <button class="dropdown-item" (click)="Signout()">{{ "SIGNOUT" | translate }}</button>
          </div>
        </li>
      </ul>

      <div id="index_login" *ngIf="authStoreSrv.isLoggedOut$ | async" class="form-inline my-2 my-lg-0 gap-10">
        <a class="btn-transparent font-16 " routerLink="/signin">{{ "SIGNIN" | translate }}</a> <a routerLink="/signup"
          class="btn-blue font-16" [routerLinkActive]="['active']">{{ "SIGNUP" | translate }}</a>
      </div>


    </div>
  </div>
</nav>

<!--Modal login mail-->
<app-modal [modalid]="'modal_login_mail'">

  <div header>

  </div>
  <div body>
    <button type="button" class="close" #closebutton data-dismiss="modal" aria-label="Close">
      <span></span>
    </button>
    <div class="text-center mb-4">
      <h3>{{ "EMAILSIGNIN" | translate }}</h3>
    </div>
    <form [formGroup]="signinEmailForm" class="row text-center">
      <input class="modal_input w-100 mb-2" type="text" id="emailsignin" placeholder="{{ 'EMAILSIGNIN' | translate }}"
        (focus)="this.placeholder = ''" (blur)="setBlur('emailsignin', 'EMAILSIGNIN')" />
      <input class="modal_input w-100 mb-2" type="password" id="headeremailpassword"
        placeholder="{{ 'PASSWORD' | translate }}" (focus)="this.placeholder = ''"
        (blur)="setBlur('headeremailpassword', 'PASSWORD')" autocomplete="on" />
      <button (click)="onSignIn()" class="model_btn_normal mb-2 w-100">
        {{ "SIGNIN" | translate }}
      </button>
      <div *ngIf="IsSignInFailed" class="invalid-feedback">{{LoginFailedMsg}}</div>
      <div class="w-100">
        <div class="float-left">
          <a href="#" data-toggle="modal" data-target="#modal_register" data-dismiss="modal">
            {{ "REGISTER" | translate }}</a>
        </div>
        <div class="float-right">
          <a href="#" data-toggle="modal" data-target="#modal_forget_password" data-dismiss="modal">{{ "FORGOTPASSWORD"
            | translate }}</a>
        </div>
      </div>
    </form>
  </div>
</app-modal>

<!-- [hidden]="true" -->
<button id="openCollectorheaderModalButton" [hidden]="true" data-toggle="modal"
  data-target="#modal_collector_header_guide">Open
  Modal</button>
<div class="modal fade" id="modal_collector_header_guide" tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="    max-width: 700px;">
    <div class="modal-content model_padding">
      <div class="modal-header">

      </div>
      <div class="modal-body">
        <div id="intro">


        </div>
      </div>
    </div>
  </div>
</div>

<button id="openArtistModalButton" [hidden]="true" data-toggle="modal" data-target="#modal_artist_header_guide">Open
  Modal</button>
<div class="modal fade" id="modal_artist_header_guide" tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="    max-width: 700px;">
    <div class="modal-content model_padding">
      <div class="modal-header">

      </div>
      <div class="modal-body">
        <div id="intro">

        </div>
      </div>
    </div>
  </div>
</div>
